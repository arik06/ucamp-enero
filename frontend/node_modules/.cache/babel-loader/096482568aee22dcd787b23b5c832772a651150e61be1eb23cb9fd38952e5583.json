{"ast":null,"code":"import _slicedToArray from\"C:/Users/pepeo/Desktop/ucamp-enero/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState}from'react';import'../styles/tour-details.css';import{Container,Row,Col,Form,ListGroup}from'reactstrap';import{useParams}from'react-router-dom';import tourData from'../assets/data/tours';import calculateAvgRating from'../utils/avgRating';import avatar from\"../assets/images/avatar.jpg\";import Newsletter from\"./../shared/Newsletter\";import Booking from'../components/Booking/Booking';import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TourDetails=function TourDetails(){var _useParams=useParams(),id=_useParams.id;var reviewMsgRef=useRef(' ');var _useState=useState(null),_useState2=_slicedToArray(_useState,2),tourRating=_useState2[0],setTourRating=_useState2[1];// lo usaremos con la API \nvar tour=tourData.find(function(tour){return tour.id===id;});// D\nvar photo=tour.photo,title=tour.title,desc=tour.desc,price=tour.price,address=tour.address,reviews=tour.reviews,city=tour.city,distance=tour.distance,maxGroupSize=tour.maxGroupSize;var _calculateAvgRating=calculateAvgRating(reviews),totalRating=_calculateAvgRating.totalRating,avgRating=_calculateAvgRating.avgRating;//formato de fecha\nvar options={day:'numeric',month:'long',year:'numeric'};// request al server \nvar submitHandler=function submitHandler(e){e.preventDefault();var reviewText=reviewMsgRef.current.value;};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"section\",{children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{lg:\"8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"tour__content\",children:[/*#__PURE__*/_jsx(\"img\",{src:photo,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__info\",children:[/*#__PURE__*/_jsx(\"h2\",{children:title}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-1\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"tour__location d-flex align-items-center gap-3\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",city]}),/*#__PURE__*/_jsxs(\"span\",{className:\"tour__rating d-flex align-items-center gap-5\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-fill\",style:{color:\"var(--secondary-color)\"}}),\" \",avgRating===0?null:avgRating,totalRating===0?'Not rated':/*#__PURE__*/_jsxs(\"span\",{children:[\"(\",reviews===null||reviews===void 0?void 0:reviews.length,\")\"]})]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-user-fill\"}),\" \",address]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__extra-details\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-pin-2-line\"}),\" \",city,\" \"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-money-dollar-circle-fill\"}),\" $\",price,\" Por persona\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-map-2-line\"}),\" \",distance,\" K/m\"]}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{class:\"ri-group-fill\"}),\" \",maxGroupSize,\" Personas\"]})]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Descripcion\"}),/*#__PURE__*/_jsx(\"p\",{children:desc})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"tour__reviews mt-4\",children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Reviews (\",reviews===null||reviews===void 0?void 0:reviews.length,\" reviews)\"]}),/*#__PURE__*/_jsxs(Form,{onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-3 mb-4 rating__group\",children:[/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(1);},children:[\"1\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(2);},children:[\"2\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(3);},children:[\"3\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(4);},children:[\"4\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]}),/*#__PURE__*/_jsxs(\"span\",{onClick:function onClick(){return setTourRating(5);},children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"review__input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",ref:reviewMsgRef,placeholder:\"Compartenos tu opinion\",required:true}),/*#__PURE__*/_jsx(\"button\",{className:\"btn primary__btn text-white\",type:\"submit\",children:\"Enviar\"})]})]}),/*#__PURE__*/_jsx(ListGroup,{className:\"user__reviews\",children:reviews===null||reviews===void 0?void 0:reviews.map(function(review){return/*#__PURE__*/_jsxs(\"div\",{className:\"review__item\",children:[/*#__PURE__*/_jsx(\"img\",{src:avatar,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"PEPE\"}),/*#__PURE__*/_jsx(\"p\",{children:new Date(\"02-18-2023\").toLocaleDateString(\"en-US\",options)})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"d-flex align-items-center\",children:[\"5\",/*#__PURE__*/_jsx(\"i\",{class:\"ri-star-s-fill\"})]})]}),/*#__PURE__*/_jsx(\"h6\",{children:\"GRANDIOSO TOUR\"})]})]});})})]})]})}),/*#__PURE__*/_jsx(Col,{lg:\"4\",children:/*#__PURE__*/_jsx(Booking,{tour:tour,avgRating:avgRating})})]})})}),/*#__PURE__*/_jsx(Newsletter,{})]});};export default TourDetails;","map":{"version":3,"names":["React","useRef","useState","Container","Row","Col","Form","ListGroup","useParams","tourData","calculateAvgRating","avatar","Newsletter","Booking","TourDetails","id","reviewMsgRef","tourRating","setTourRating","tour","find","photo","title","desc","price","address","reviews","city","distance","maxGroupSize","totalRating","avgRating","options","day","month","year","submitHandler","e","preventDefault","reviewText","current","value","color","length","map","review","Date","toLocaleDateString"],"sources":["C:/Users/pepeo/Desktop/ucamp-enero/frontend/src/pages/TourDetails.jsx"],"sourcesContent":["import React, {useRef, useState} from 'react'\r\nimport '../styles/tour-details.css'\r\nimport {Container, Row, Col, Form, ListGroup} from 'reactstrap'\r\nimport {useParams} from 'react-router-dom'\r\nimport tourData from '../assets/data/tours'\r\nimport calculateAvgRating from '../utils/avgRating'\r\nimport avatar from \"../assets/images/avatar.jpg\"\r\nimport Newsletter from \"./../shared/Newsletter\"\r\nimport Booking from '../components/Booking/Booking'\r\n\r\n\r\nconst TourDetails = () => {\r\n  \r\nconst {id} = useParams()\r\n\r\nconst reviewMsgRef = useRef(' ')\r\nconst [tourRating, setTourRating] = useState(null)\r\n\r\n// lo usaremos con la API \r\nconst tour = tourData.find(tour => tour.id ===id )\r\n\r\n// D\r\n\r\nconst {photo,title, desc, price, address, reviews, city, distance, maxGroupSize} =  tour\r\n\r\nconst {totalRating, avgRating} =  calculateAvgRating (reviews);\r\n\r\n//formato de fecha\r\n\r\nconst options = {day:'numeric', month:'long', year:'numeric'}\r\n\r\n// request al server \r\nconst submitHandler = e =>{\r\n  e.preventDefault()\r\n  const reviewText = reviewMsgRef.current.value;\r\n\r\n}\r\n\r\nreturn (\r\n    <>\r\n    <section>\r\n      <Container>\r\n        <Row>\r\n          <Col lg=\"8\">\r\n            <div className=\"tour__content\">\r\n              <img src={photo} alt=\"\" />\r\n\r\n              <div className=\"tour__info\">\r\n                <h2>{title}</h2>\r\n\r\n                <div className=\"d-flex align-items-center gap-1\">\r\n                <span className='tour__location d-flex align-items-center gap-3'>\r\n                <i class=\"ri-map-pin-user-fill\"></i> {city}\r\n                </span>\r\n\r\n                <span className='tour__rating d-flex align-items-center gap-5'>\r\n                <i class=\"ri-star-fill\" style={{color: \"var(--secondary-color)\"}}></i> {avgRating === 0 ? null :avgRating }\r\n                {totalRating === 0 ? 'Not rated' : <span>({reviews?.length})</span>} \r\n                </span>\r\n\r\n              <span>\r\n              <i class=\"ri-map-pin-user-fill\"></i> {address}\r\n              </span>\r\n                </div>\r\n                <div className=\"tour__extra-details\">\r\n                  <span><i class=\"ri-map-pin-2-line\"></i> {city} </span>\r\n                  <span><i class=\"ri-money-dollar-circle-fill\"></i> ${price} Por persona</span>\r\n                  <span><i class=\"ri-map-2-line\"></i> {distance} K/m</span>\r\n                  <span><i class=\"ri-group-fill\"></i> {maxGroupSize} Personas\r\n                  </span>\r\n                </div>\r\n                <h5>Descripcion</h5>\r\n                <p>{desc}</p>\r\n              </div>\r\n              {/*reviews tour ----------------------------- */}\r\n<div className=\"tour__reviews mt-4\">\r\n<h4>Reviews ({reviews?.length} reviews)</h4>\r\n\r\n<Form onSubmit={submitHandler}>\r\n  <div className='d-flex align-items-center gap-3 mb-4 rating__group'>\r\n    <span onClick={() => setTourRating(1)}>1<i class=\"ri-star-s-fill\"></i></span>\r\n    <span onClick={() => setTourRating(2)}>2<i class=\"ri-star-s-fill\"></i></span>\r\n    <span onClick={() => setTourRating(3)}>3<i class=\"ri-star-s-fill\"></i></span>\r\n    <span onClick={() => setTourRating(4)}>4<i class=\"ri-star-s-fill\"></i></span>\r\n    <span onClick={() => setTourRating(5)}>5<i class=\"ri-star-s-fill\"></i></span>\r\n  </div>\r\n  <div className=\"review__input\">\r\n    <input type=\"text\" ref={reviewMsgRef} placeholder='Compartenos tu opinion' required />\r\n    <button className=\"btn primary__btn text-white\" type='submit'>Enviar</button>\r\n  </div>\r\n</Form>\r\n<ListGroup className='user__reviews'>\r\n{\r\n  reviews?.map(review =>(\r\n    <div className=\"review__item\">\r\n      <img src={avatar} alt=\"\" />\r\n      <div className=\"w-100\">\r\n        <div className=\"d-flex align-items-center justify-content-between\">\r\n          <div>\r\n            <h5>PEPE</h5>\r\n            <p>\r\n              { new Date (\"02-18-2023\").toLocaleDateString(\"en-US\", options) }\r\n            </p>\r\n          </div>\r\n          <span className='d-flex align-items-center'>\r\n          5<i class=\"ri-star-s-fill\"></i>\r\n          </span>\r\n        </div>\r\n        <h6>GRANDIOSO TOUR</h6>\r\n      </div>\r\n    </div>\r\n  ))\r\n}\r\n</ListGroup>\r\n</div>\r\n              {/*reviews tour ----------------------------- */}\r\n\r\n            </div>\r\n          </Col>\r\n          <Col lg=\"4\">\r\n            <Booking tour={tour} avgRating = {avgRating}/>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </section>\r\n    <Newsletter />\r\n    </>\r\n);\r\n};\r\n\r\nexport default TourDetails"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}